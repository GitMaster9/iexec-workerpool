1. pokrenuti iexec CLI (wallet)
iexec init --skip-wallet

2. provjeri chain.json (bellecour mora biti pod default)
{
  "default": "bellecour",
  "chains": {
    "mainnet": {},
    "bellecour": {}
  }
}

3. kreiraj wallet (kreiraj password, npr: password123core)
iexec wallet create --keystoredir ./

4. preimenuj kreirani wallet (npr. core_wallet.json)

5. lokalno inicijaliziraj workerpool registraciju
iexec workerpool init --wallet-file "core_wallet.json" --keystoredir ./

6. otvori iexec.json i promijeni workerpool.description (javno na blockchainu)

7. provjeri da li je workerpool.owner jednak kao "address" u core_wallet.json fajlu
jq .workerpool iexec.json
jq .address core_wallet.json

8. registriraj workerpool na blockchainu da bi dobio workerpool address
iexec workerpool deploy --wallet-file "core_wallet.json" --keystoredir ./

trebao bi naći workerpool na https://explorer.iex.ec/bellecour

(9 i 10 su možda opcionalni?)
9. registriraj ENS
ENS_WP_SUBDOMAIN="privateworkerpool"
WP_ADDR="$(jq -r ".workerpool | first(.[])" deployed.json )"
iexec ens register "$ENS_WP_SUBDOMAIN" --for "$WP_ADDR" --wallet-file core_wallet.json --keystoredir ./

10. postavi workerpool API URL
(ako PROD_CORE_HOST nije postavljen)
PROD_CORE_HOST=core-prod.v8-bellecour.yourdomain

CORE_URL="https://$(grep 'PROD_CORE_HOST=' .env | sed -e 's/PROD_CORE_HOST=//')"
WP_ADDR="$(jq -r ".workerpool | first(.[])" deployed.json )"
iexec workerpool set-api-url "$CORE_URL" "$WP_ADDR" --wallet-file core_wallet.json --keystoredir ./

provjera:
iexec workerpool show --raw | jq

11. kreiraj Docker network (ako scheduler core mora biti na istoj mreži kao worker)
docker network create iexec_network

12. pokreni Docker kontejnere iz scheduler-core foldera
cd scheduler-core
docker compose up -d